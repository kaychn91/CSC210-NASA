<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<title>NASA - Poll Test</title>
		<link rel="stylesheet" type="text/css" href="css/poll.css" media="screen">


		<!--for radio buttons only from w3school.com-->
		<script>
		function getVote(int) {
		  if (window.XMLHttpRequest) {
		    // code for IE7+, Firefox, Chrome, Opera, Safari
		    xmlhttp=new XMLHttpRequest();
		  } else {  // code for IE6, IE5
		    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
		  }
		  xmlhttp.onreadystatechange=function() {
		    if (this.readyState==4 && this.status==200) {	
		      document.getElementById("poll").innerHTML=this.responseText;
		    }
		  }
		  // Edit this line before testing!!!
		  xmlhttp.open("GET","gaming_poll.php?vote="+int,true);
		  xmlhttp.send();
		}
		


		// <!-- for checkbox buttons only -->
		
		var chosen = new Array;
		var buttons = ["pkmon-check", "aCreed-check", "wd2-check", "deadRise-check", "lastG-check", "darkside-check", "finfan15-check", "sGate-check", "steep-check", "smm-check"];

		function inArray(int){
			chosen.push(int);
		}

		function clearArray(){
			chosen = new Array;
		}

		function tallyVotes(){
			for (var i = 0; i < buttons.length; i++) {
				$("#buttons[i]").click(function(){
					inArray(this.value);
				}
			}
			
			});
			if(chosen.length == 0){
				window.alert("Please select a game before submiting.");
			}else{
				for (var i = 0; i < chosen.length; i++) {
					getVoteS(chosen[i]);
				}
				clearArray();
				getVoteS(100);
			}	
		}

		function lastCall(int){
			getVoteS(int.value);
		}

		function getVoteS(int) {
		  if (window.XMLHttpRequest) {
		    // code for IE7+, Firefox, Chrome, Opera, Safari
		    xmlhttp=new XMLHttpRequest();
		  } else {  // code for IE6, IE5
		    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
		  }
		  xmlhttp.onreadystatechange=function() {
		    if (this.readyState==4 && this.status==200) {	
		      document.getElementById("poll2").innerHTML=this.responseText;
		    }
		  }
		  // ^^^ Edit these lines before testing!!!
		  xmlhttp.open("GET","game_poll2.php?vote="+int,true);
		  xmlhttp.send();
		}
		</script>

	</head>

	<body>

		<h1>NASA - Poll</h1>

			<fieldset>
				
				<legend><em>Participate in our online poll!</em></legend>

				<div id="poll">

					<h2>What's your favorite video game genre?</h2>
					<form>
						<table>
							<tr>
								<td>
									<input type="radio" name="genre" id="action-select" value="0" onclick="getVote(this.value)">
								</td>
								<td>Action</td>
							</tr>
							<tr>
								<td>	
									<input type="radio" name="genre" id="actAdv-select" value="1" onclick="getVote(this.value)">
								</td>
								<td>Action-Adventure</td>
							</tr>
							<tr>
								<td>	
									<input type="radio" name="genre" id="adv-select" value="2" onclick="getVote(this.value)">
								</td>
								<td>Adventure</td>
							</tr>
							<tr>
								<td>	
									<input type="radio" name="genre" id="rplay-select" value="3" onclick="getVote(this.value)">
								</td>
								<td>Role-Playing</td>
							</tr>
							<tr>
								<td>	
									<input type="radio" name="genre" id="sim-select" value="4" onclick="getVote(this.value)">
								</td>
								<td>Simulator</td>
							</tr>
							<tr>
								<td>	
									<input type="radio" name="genre" id="strategy-select" value="5" onclick="getVote(this.value)">
								</td>
								<td>Strategy</td>
							</tr>
							<tr>
								<td>	
									<input type="radio" name="genre" id="sport-select" value="6" onclick="getVote(this.value)">
								</td>
								<td>Sports</td>
							</tr>
							<tr>
								<td>
									<input type="radio" name="genre" id="other-select" value="7" onclick="getVote(this.value)">
								</td>
								<td>Ohter</td>
							</tr>
						</table><br>
						<input type="button" value=" View Poll Results " onclick="getVote(100)">
					</form>
				</div>
				

				<div id="poll2">
					<!--checkbox poll for recent games-->
					<form>

						<h2>What games are you really excited for?</h2>
							<input type="checkbox" name="newGame" id="pkmon-check" value="0">
							<label for="pkmon-check">Pok√©mon Sun/Moon</label>
							<!-- External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B01C93CWSI/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01C93CWSI&linkCode=as2&tag=metacritic04-20&th=1'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="aCreed-check" value="1">
							<label for="aCreed-check">Assassin's Creed: The Ezio Collection</label>
							<!-- External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B01LXHDC8I/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01LXHDC8I&linkCode=as2&tag=metacritic04-20'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="wd2-check" value="2">
							<label for="wd2-check">Watch_Dogs 2</label>
							<!-- External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B01GKF7T9S/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01GKF7T9S&linkCode=as2&tag=metacritic04-20'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="deadRise-check" value="3">
							<label for="deadRise-check">Dead Rising 4</label>
							<!--  External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B01GW3LR8M/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01GW3LR8M&linkCode=as2&tag=metacritic04-20'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="lastG-check" value="4">
							<label for="lastG-check">The Last Guardian</label>
							<!--  External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/dp/B00ZQBLNP4%3FSubscriptionId%3DAKIAJHSMUOWEQCQ7QDAQ%26tag%3Dmetacritic-games-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00ZQBLNP4'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="darkside-check" value="5">
							<label for="darkside-check">Darksiders: Warmastered Edition</label>
							<!--  External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B01JCUVEDA/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01JCUVEDA&linkCode=as2&tag=metacritic08-20'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="finfan15-check" value="6">
							<label for="finfan15-check">Final Fantasy XV</label>
							<!--  External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B00DBF829C/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00DBF829C&linkCode=as2&tag=metacritic04-20'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="sGate-check" value="7">
							<label for="sGate-check">Steins;Gate 0</label>
							<!--  External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B01JHQURAU/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01JHQURAU&linkCode=as2&tag=metacritic04-20'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="steep-check" value="8">
							<label for="steep-check">Steep</label>
							<!--  External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B01GWLIYUI/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01GWLIYUI&linkCode=as2&tag=metacritic04-20&th=1'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

							<input type="checkbox" name="newGame" id="smm-check" value="9">
							<label for="smm-check">Super Mario Maker</label>
							<!--  External Links don't work in Localhost.
							<input type="button" onclick="location.href='https://www.amazon.com/gp/product/B01LDUYU60/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B01LDUYU60&linkCode=as2&tag=metacritic04-20'; location.target='_blank'; " value="Buy From Amazon"/>
							-->
							<br><br>

						<input type="button" value="Submit" onclick="tallyVotes()">

						<input type="button" value=" View Poll Results " onclick="getVoteS(100)">

					</form>
				</div>

			</fieldset>

</html>